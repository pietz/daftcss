/**
 * Progress bar styles
 */

progress {
  display: block;
  width: 100%;
  height: var(--spacing-sm);
  margin-bottom: var(--spacing-sm);
  overflow: hidden;
  background-color: var(--muted);
  border: none;
  border-radius: var(--progress-radius);
  appearance: none;
}

progress:last-child {
  margin-bottom: 0;
}

progress::-webkit-progress-bar {
  background-color: var(--muted);
  border-radius: var(--progress-radius);
}

progress::-webkit-progress-value {
  background-color: var(--primary);
  border-radius: var(--progress-radius);
  transition: width var(--transition-slow) var(--ease-default);
}

progress::-moz-progress-bar {
  background-color: var(--primary);
  border-radius: var(--progress-radius);
}

/* Indeterminate progress */
progress:not([value]) {
  position: relative;
  background: linear-gradient(
    90deg,
    var(--muted) 0%,
    var(--muted) 40%,
    var(--primary) 50%,
    var(--muted) 60%,
    var(--muted) 100%
  );
  background-size: 200% 100%;
  animation: progress-indeterminate 1.5s linear infinite;
}

progress:not([value])::-webkit-progress-bar {
  background: transparent;
}

progress:not([value])::-moz-progress-bar {
  background: transparent;
}

@keyframes progress-indeterminate {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Secondary variant */
progress.secondary::-webkit-progress-value {
  background-color: var(--muted-foreground);
}

progress.secondary::-moz-progress-bar {
  background-color: var(--muted-foreground);
}

progress.secondary:not([value]) {
  background: linear-gradient(
    90deg,
    var(--muted) 0%,
    var(--muted) 40%,
    var(--muted-foreground) 50%,
    var(--muted) 60%,
    var(--muted) 100%
  );
  background-size: 200% 100%;
}

/* Contrast variant */
progress.contrast::-webkit-progress-value {
  background-color: var(--foreground);
}

progress.contrast::-moz-progress-bar {
  background-color: var(--foreground);
}

progress.contrast:not([value]) {
  background: linear-gradient(
    90deg,
    var(--muted) 0%,
    var(--muted) 40%,
    var(--foreground) 50%,
    var(--muted) 60%,
    var(--muted) 100%
  );
  background-size: 200% 100%;
}

/* Destructive variant */
progress.destructive::-webkit-progress-value {
  background-color: var(--destructive);
}

progress.destructive::-moz-progress-bar {
  background-color: var(--destructive);
}

progress.destructive:not([value]) {
  background: linear-gradient(
    90deg,
    var(--muted) 0%,
    var(--muted) 40%,
    var(--destructive) 50%,
    var(--muted) 60%,
    var(--muted) 100%
  );
  background-size: 200% 100%;
}

/* Label with progress */
label:has(> progress) {
  display: block;

  & > progress {
    margin-top: var(--spacing-sm);
  }
}
