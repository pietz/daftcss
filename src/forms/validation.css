/**
 * Form validation styles
 * Uses aria-invalid for semantic validation states
 */

/* Invalid state */
input[aria-invalid="true"],
textarea[aria-invalid="true"],
select[aria-invalid="true"] {
  border-color: var(--destructive);
}

/* Valid state */
input[aria-invalid="false"],
textarea[aria-invalid="false"],
select[aria-invalid="false"] {
  border-color: var(--primary);
}

/* Helper text colors for validation */
input[aria-invalid="true"] + small,
textarea[aria-invalid="true"] + small,
select[aria-invalid="true"] + small,
input[aria-invalid="true"] ~ small,
textarea[aria-invalid="true"] ~ small,
select[aria-invalid="true"] ~ small {
  color: var(--destructive);
}

input[aria-invalid="false"] + small,
textarea[aria-invalid="false"] + small,
select[aria-invalid="false"] + small,
input[aria-invalid="false"] ~ small,
textarea[aria-invalid="false"] ~ small,
select[aria-invalid="false"] ~ small {
  color: var(--primary);
}

/* Checkbox/radio validation */
input[type="checkbox"][aria-invalid="true"],
input[type="radio"][aria-invalid="true"] {
  border-color: var(--destructive);
}

input[type="checkbox"][aria-invalid="false"],
input[type="radio"][aria-invalid="false"] {
  border-color: var(--primary);
}

/* Native browser validation (optional enhancement) */
input:user-invalid:not([type="checkbox"]):not([type="radio"]),
textarea:user-invalid {
  border-color: var(--destructive);
}

input:user-valid:not(:placeholder-shown):not([type="checkbox"]):not([type="radio"]),
textarea:user-valid:not(:placeholder-shown) {
  border-color: var(--primary);
}

/* Required field indicator */
label:has(+ input:required)::after,
label:has(+ textarea:required)::after,
label:has(+ select:required)::after,
label:has(> input:required)::after,
label:has(> textarea:required)::after,
label:has(> select:required)::after {
  content: " *";
  color: var(--destructive);
}

/* Dropdown validation */
details.dropdown[aria-invalid="true"] > summary {
  border-color: var(--destructive);
}

details.dropdown[aria-invalid="false"] > summary {
  border-color: var(--primary);
}
