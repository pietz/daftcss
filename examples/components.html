<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  <title>Daft CSS - Components</title>
  <link rel="stylesheet" href="../dist/daft.css">
  <style>
    /* Demo-specific styles */
    .demo-section {
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }
    .demo-section:last-child {
      border-bottom: none;
    }
    .color-swatch {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      border-radius: var(--radius-md);
      font-size: var(--text-sm);
      font-family: var(--font-mono);
    }
  </style>
</head>
<body>
  <header>
    <nav class="container">
      <ul>
        <li><strong>Daft CSS</strong></li>
      </ul>
      <ul>
        <li><a href="#typography">Typography</a></li>
        <li><a href="#forms">Forms</a></li>
        <li><a href="#buttons">Buttons</a></li>
        <li><a href="#components">Components</a></li>
        <li><a href="demo.html">Demo</a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <hgroup>
      <h1>Daft CSS</h1>
      <p>A semantic-first, utility-second CSS framework with shadcn/ui aesthetics.</p>
    </hgroup>

    <!-- Typography -->
    <section id="typography" class="demo-section">
      <h2>Typography</h2>

      <div class="grid">
        <div>
          <h3>Headings</h3>
          <h1>Heading 1</h1>
          <h2>Heading 2</h2>
          <h3>Heading 3</h3>
          <h4>Heading 4</h4>
          <h5>Heading 5</h5>
          <h6>Heading 6</h6>
        </div>
        <div>
          <h3>Heading Group</h3>
          <hgroup>
            <h2>Main Title</h2>
            <p>Subtitle with muted text styling</p>
          </hgroup>

          <h3>Blockquote</h3>
          <blockquote>
            "Design is not just what it looks like and feels like. Design is how it works."
            <footer><cite>â€” Steve Jobs</cite></footer>
          </blockquote>
        </div>
      </div>

      <div class="grid">
        <div>
          <h3>Paragraph & Inline Elements</h3>
          <p>This is a paragraph with <strong>bold text</strong>, <em>italic text</em>, <u>underlined text</u>, <mark>highlighted text</mark>, and <a href="#">a link</a>.</p>
          <p>You can also use <code>inline code</code>, <kbd>Ctrl</kbd> + <kbd>C</kbd> for keyboard shortcuts, and <abbr title="Abbreviation">abbr</abbr> for abbreviations.</p>
        </div>
        <div>
          <h3>Code Block</h3>
          <pre><code>function greet(name) {
  console.log(`Hello, ${name}!`);
}

greet("World");</code></pre>
        </div>
      </div>

      <h3>Lists</h3>
      <div class="grid">
        <div>
          <h4>Unordered List</h4>
          <ul>
            <li>First item</li>
            <li>Second item</li>
            <li>Third item with nested list
              <ul>
                <li>Nested item</li>
                <li>Another nested item</li>
              </ul>
            </li>
          </ul>
        </div>
        <div>
          <h4>Ordered List</h4>
          <ol>
            <li>First item</li>
            <li>Second item</li>
            <li>Third item</li>
          </ol>
        </div>
        <div>
          <h4>Definition List</h4>
          <dl>
            <dt>Term</dt>
            <dd>Definition of the term</dd>
            <dt>Another Term</dt>
            <dd>Another definition</dd>
          </dl>
        </div>
      </div>
    </section>

    <!-- Forms -->
    <section id="forms" class="demo-section">
      <h2>Forms</h2>

      <h3>Basic Form</h3>
      <form>
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="Enter your email" aria-describedby="email-help">
        <small id="email-help">We'll never share your email.</small>

        <label for="password">Password</label>
        <input type="password" id="password" placeholder="Enter your password">

        <label for="message">Message</label>
        <textarea id="message" placeholder="Write your message..."></textarea>

        <label for="country">Country</label>
        <select id="country">
          <option selected disabled value="">Choose a country...</option>
          <option>United States</option>
          <option>United Kingdom</option>
          <option>Germany</option>
          <option>France</option>
        </select>

        <button type="submit">Submit</button>
      </form>

      <h3>Input Types</h3>
      <div class="grid">
        <div>
          <label for="search-input">Search</label>
          <input type="search" id="search-input" placeholder="Search...">
        </div>
        <div>
          <label for="date-input">Date</label>
          <input type="date" id="date-input">
        </div>
        <div>
          <label for="primary-color">Primary Color</label>
          <input type="color" id="primary-color" value="#1e3a8a">
        </div>
      </div>

      <div class="grid">
        <div>
          <h3>File Input</h3>
          <input type="file">
        </div>
        <div>
          <h3>Range Slider</h3>
          <label>
            Volume
            <input type="range" min="0" max="100" value="50">
          </label>
        </div>
      </div>

      <h3>Validation States</h3>
      <div class="grid">
        <div>
          <label for="valid-input">Valid Input</label>
          <input type="text" id="valid-input" value="Valid value" aria-invalid="false">
          <small>This field is valid.</small>
        </div>
        <div>
          <label for="invalid-input">Invalid Input</label>
          <input type="text" id="invalid-input" value="Invalid value" aria-invalid="true">
          <small>This field has an error.</small>
        </div>
      </div>

      <h3>Checkboxes, Radios & Switches</h3>
      <div class="grid">
        <fieldset>
          <legend>Checkboxes</legend>
          <label><input type="checkbox" checked> Receive newsletter</label>
          <label><input type="checkbox"> Accept terms</label>
          <label aria-disabled="true"><input type="checkbox" disabled> Disabled option</label>
        </fieldset>
        <fieldset>
          <legend>Radios</legend>
          <label><input type="radio" name="plan" checked> Basic</label>
          <label><input type="radio" name="plan"> Pro</label>
          <label><input type="radio" name="plan"> Enterprise</label>
        </fieldset>
        <fieldset>
          <legend>Switches</legend>
          <label><input type="checkbox" role="switch"> Notifications</label>
          <label><input type="checkbox" role="switch" checked> Dark mode</label>
          <label aria-disabled="true"><input type="checkbox" role="switch" disabled> Disabled</label>
        </fieldset>
      </div>

      <h3>Form with Grid</h3>
      <form>
        <fieldset class="grid">
          <input type="text" placeholder="First name" aria-label="First name">
          <input type="text" placeholder="Last name" aria-label="Last name">
        </fieldset>
        <fieldset role="group">
          <input type="email" placeholder="Email" aria-label="Email">
          <button type="submit">Subscribe</button>
        </fieldset>
      </form>

      <h3>Search Form</h3>
      <form role="search">
        <input type="search" placeholder="Search...">
        <button type="submit">Search</button>
      </form>
    </section>

    <!-- Buttons -->
    <section id="buttons" class="demo-section">
      <h2>Buttons</h2>

      <div class="grid">
        <div>
          <h3>Button Variants</h3>
          <p>
            <button>Primary</button>
            <button class="secondary">Secondary</button>
            <button class="contrast">Contrast</button>
            <button class="outline">Outline</button>
            <button class="ghost">Ghost</button>
            <button class="link">Link</button>
            <button class="destructive">Destructive</button>
          </p>
        </div>
        <div>
          <h3>Button Sizes</h3>
          <p>
            <button class="small">Small</button>
            <button>Default</button>
            <button class="large">Large</button>
          </p>

          <h3>Outline Variants</h3>
          <p>
            <button class="outline">Outline</button>
            <button class="outline secondary">Outline Secondary</button>
            <button class="outline contrast">Outline Contrast</button>
          </p>
        </div>
      </div>

      <div class="grid">
        <div>
          <h3>States</h3>
          <p>
            <button disabled>Disabled</button>
            <button aria-busy="true">Loading</button>
          </p>
        </div>
        <div>
          <h3>Role Button</h3>
          <p>
            <a href="#" role="button">Link as Button</a>
            <div role="button" tabindex="0">Div as Button</div>
          </p>
        </div>
        <div>
          <h3>Button Groups</h3>
          <div role="group">
            <button class="outline">Left</button>
            <button class="outline" aria-current="true">Center</button>
            <button class="outline">Right</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Components -->
    <section id="components" class="demo-section">
      <h2>Components</h2>

      <h3>Cards</h3>
      <div class="grid">
        <article>
          <header>
            <strong>Card Title</strong>
            <p>Card subtitle</p>
          </header>
          <p>This is the card body content. Cards use the semantic <code>&lt;article&gt;</code> element.</p>
          <footer>
            <button class="small">Action</button>
            <button class="small outline">Cancel</button>
          </footer>
        </article>
        <article>
          Simple card without header or footer. Just content inside an article element.
        </article>
        <article aria-busy="true"></article>
      </div>

      <div class="grid">
        <div>
          <h3>Accordion</h3>
          <details open>
            <summary>What is Daft CSS?</summary>
            <p>Daft CSS is a semantic-first, utility-second CSS framework inspired by Pico CSS with shadcn/ui aesthetics.</p>
          </details>
          <details>
            <summary>Is it compatible with Pico CSS?</summary>
            <p>Yes! Daft CSS uses the same HTML patterns and class names as Pico CSS, making migration easy.</p>
          </details>
          <details>
            <summary>What browsers are supported?</summary>
            <p>Daft CSS targets modern browsers only (Chrome 100+, Firefox 100+, Safari 15+, Edge 100+).</p>
          </details>
        </div>
        <div>
          <h3>Button Accordions</h3>
          <details>
            <summary role="button">Primary Accordion</summary>
            <p>Content inside a button-styled accordion.</p>
          </details>
          <details>
            <summary role="button" class="secondary">Secondary Accordion</summary>
            <p>Content inside a secondary button-styled accordion.</p>
          </details>
          <details>
            <summary role="button" class="outline">Outline Accordion</summary>
            <p>Content inside an outline button-styled accordion.</p>
          </details>
        </div>
      </div>

      <div class="grid">
        <div>
          <h3>Dropdown</h3>
          <p>
            <details class="dropdown">
              <summary>Dropdown</summary>
              <ul>
                <li><a href="#">Profile</a></li>
                <li><a href="#">Settings</a></li>
                <li><a href="#">Logout</a></li>
              </ul>
            </details>
            <details class="dropdown">
              <summary role="button">Button Dropdown</summary>
              <ul>
                <li><a href="#">Action 1</a></li>
                <li><a href="#">Action 2</a></li>
                <li><a href="#">Action 3</a></li>
              </ul>
            </details>
          </p>
        </div>
        <div>
          <h3>Tooltips</h3>
          <p>
            <span data-tooltip="This is a tooltip">Hover for tooltip</span> |
            <span data-tooltip="Top tooltip" data-placement="top">Top</span> |
            <span data-tooltip="Bottom tooltip" data-placement="bottom">Bottom</span>
          </p>
          <p>
            <button data-tooltip="Button tooltip">Tooltip Button</button>
            <a href="#" data-tooltip="Link tooltip">Tooltip Link</a>
          </p>
        </div>
      </div>

      <h3>Tables</h3>
      <figure>
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Role</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Ada Lovelace</td>
              <td>Engineer</td>
              <td>Active</td>
            </tr>
            <tr>
              <td>Grace Hopper</td>
              <td>Developer</td>
              <td>Active</td>
            </tr>
            <tr>
              <td>Margaret Hamilton</td>
              <td>Architect</td>
              <td>On Leave</td>
            </tr>
          </tbody>
        </table>
      </figure>

      <h4>Striped Table</h4>
      <table class="striped">
        <thead>
          <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Stock</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Widget A</td>
            <td>$19.99</td>
            <td>In Stock</td>
          </tr>
          <tr>
            <td>Widget B</td>
            <td>$29.99</td>
            <td>In Stock</td>
          </tr>
          <tr>
            <td>Widget C</td>
            <td>$39.99</td>
            <td>Out of Stock</td>
          </tr>
          <tr>
            <td>Widget D</td>
            <td>$49.99</td>
            <td>In Stock</td>
          </tr>
        </tbody>
      </table>

      <div class="grid">
        <div>
          <h3>Progress</h3>
          <progress value="65" max="100"></progress>
          <progress></progress>
        </div>
        <div>
          <h3>Loading States</h3>
          <p>
            <button aria-busy="true">Loading...</button>
            <button aria-busy="true" aria-label="Loading"></button>
          </p>
          <span aria-busy="true">Generating your link...</span>
        </div>
      </div>

      <div class="grid">
        <div>
          <h3>Modal</h3>
          <button popovertarget="demo-modal">Open Modal</button>
          <dialog id="demo-modal" popover>
            <article>
              <header>
                <button aria-label="Close" popovertarget="demo-modal" popovertargetaction="hide"></button>
                <p><strong>Modal Title</strong></p>
              </header>
              <p>This is the modal content. Modals use the native <code>&lt;dialog&gt;</code> element with the Popover API.</p>
              <p>Press Escape or click outside to close. No JavaScript required!</p>
              <footer>
                <button class="secondary" popovertarget="demo-modal" popovertargetaction="hide">Cancel</button>
                <button popovertarget="demo-modal" popovertargetaction="hide">Confirm</button>
              </footer>
            </article>
          </dialog>
        </div>
        <div>
          <h3>Breadcrumb</h3>
          <nav aria-label="breadcrumb">
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Products</a></li>
              <li><a href="#">Category</a></li>
              <li>Current Page</li>
            </ul>
          </nav>
        </div>
      </div>

    </section>

    <!-- Colors -->
    <section id="colors" class="demo-section">
      <h2>Color Palette</h2>
      <div class="grid">
        <div class="color-swatch" style="background: var(--primary); color: var(--primary-foreground);">--primary</div>
        <div class="color-swatch" style="background: var(--secondary); color: var(--secondary-foreground);">--secondary</div>
        <div class="color-swatch" style="background: var(--muted); color: var(--muted-foreground);">--muted</div>
        <div class="color-swatch" style="background: var(--accent); color: var(--accent-foreground);">--accent</div>
        <div class="color-swatch" style="background: var(--destructive); color: var(--destructive-foreground);">--destructive</div>
        <div class="color-swatch" style="background: var(--success); color: var(--success-foreground);">--success</div>
      </div>
    </section>
  </main>

  <footer class="container">
    <small>Built with Daft CSS. Inspired by <a href="https://picocss.com">Pico CSS</a> and <a href="https://ui.shadcn.com">shadcn/ui</a>.</small>
  </footer>

  <script>
    // RGB to OKLCH conversion
    function rgbToOklch(r, g, b) {
      // sRGB to linear RGB
      const toLinear = (c) => c <= 0.04045 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
      const lr = toLinear(r);
      const lg = toLinear(g);
      const lb = toLinear(b);

      // Linear RGB to LMS
      const l = 0.4122214708 * lr + 0.5363325363 * lg + 0.0514459929 * lb;
      const m = 0.2119034982 * lr + 0.6806995451 * lg + 0.1073969566 * lb;
      const s = 0.0883024619 * lr + 0.2817188376 * lg + 0.6299787005 * lb;

      // LMS to OKLAB
      const l_ = Math.cbrt(l);
      const m_ = Math.cbrt(m);
      const s_ = Math.cbrt(s);

      const L = 0.2104542553 * l_ + 0.7936177850 * m_ - 0.0040720468 * s_;
      const a = 1.9779984951 * l_ - 2.4285922050 * m_ + 0.4505937099 * s_;
      const bVal = 0.0259040371 * l_ + 0.7827717662 * m_ - 0.8086757660 * s_;

      // OKLAB to OKLCH
      const C = Math.sqrt(a * a + bVal * bVal);
      let H = Math.atan2(bVal, a) * 180 / Math.PI;
      if (H < 0) H += 360;

      return { L, C, H };
    }

    // Primary color picker
    const colorPicker = document.getElementById('primary-color');
    colorPicker.addEventListener('input', (e) => {
      const hex = e.target.value;
      const r = parseInt(hex.slice(1, 3), 16) / 255;
      const g = parseInt(hex.slice(3, 5), 16) / 255;
      const b = parseInt(hex.slice(5, 7), 16) / 255;
      const { L, C, H } = rgbToOklch(r, g, b);
      document.documentElement.style.setProperty('--primary', `oklch(${L.toFixed(3)} ${C.toFixed(3)} ${H.toFixed(1)})`);
    });
  </script>
</body>
</html>
